<!DOCTYPE html>

<html lang="en">

  <head>
    {% include 'meta.html' %}
    {% block styles %}{% endblock %}
    <script src="https://kit.fontawesome.com/e3deaeba31.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://www.google.com/recaptcha/api.js?render=6LeRCuMUAAAAAEWkxJ1IsbM4h-RQbGuxDxCXmdtr"></script>
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,500" rel="stylesheet">
    <script>
        // // execute function and output the token into the browser console
        // grecaptcha.ready(function() {
        // 	grecaptcha.execute('6LeRCuMUAAAAAEWkxJ1IsbM4h-RQbGuxDxCXmdtr', {action: 'homepage'}).then(function(token) {
        // 		console.log(token);
        // 	});
        // });
        // // used for automatically binding the challenge to a button/form
        // function onSubmit(token) {
        // 	document.getElementById("contact").submit();
        // };
      grecaptcha.ready(function() {
        grecaptcha.execute('6LeRCuMUAAAAAEWkxJ1IsbM4h-RQbGuxDxCXmdtr', {action: 'homepage'})
        .then(function(token) {
          //appending the token to the end of the form so that the thing can go in and submit the token in the background and find the number
          document.getElementById("contact").appendChild(document.CreateElement(`<input type="hidden" name="gtoken" value=${token}`));
        });
      });
    </script>
  </head>

  <body class="{{template}}">
    {% block content %}{% endblock %}
    {% block javascript %}{% endblock javascript %}
  </body>

</html>
